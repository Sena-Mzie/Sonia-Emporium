<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Us - Book an Appointment</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Global Styling */
    body {
        font-family: 'Montserrat', sans-serif;
        margin: 0;
        padding: 0;
        color: #1a1a1a;
        line-height: 1.6;
        background-color: #fdfbf8;
    }
    h1, h2 {
        font-family: 'Cormorant Garamond', serif;
        color: #1a1a1a;
    }
    h1 {
        font-size: 3rem;
        margin-bottom: 1rem;
        font-weight: 700;
        letter-spacing: 2px;
    }
    h2 {
        font-size: 2rem;
        margin-bottom: 1.5rem;
    }
    .accent-line {
        width: 50px;
        height: 2px;
        background-color: #c9a77c;
        margin: 20px auto;
    }

    /* Header */
    header {
        background-color: #ffffff;
        padding: 20px 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        position: fixed;
        width: 100%;
        top: 0;
        z-index: 1000;
        box-sizing: border-box;
    }
    .logo h1 {
        font-size: 28px;
        margin: 0;
        letter-spacing: 2px;
    }
    nav ul {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
    }
    nav ul li a, .cart a {
        color: #1a1a1a;
        text-decoration: none;
        padding: 10px 20px;
        font-size: 14px;
        letter-spacing: 1px;
        transition: color 0.3s;
    }
    nav ul li a:hover, .cart a:hover {
        color: #c9a77c;
    }

    /* Button */
    .btn, .cta-button {
        display: inline-block;
        padding: 15px 40px;
        background-color: transparent;
        border: 1px solid white;
        color: white;
        text-decoration: none;
        transition: all 0.3s;
        font-size: 14px;
        letter-spacing: 2px;
    }
    .btn:hover, .cta-button:hover {
        background-color: white;
        color: #1a1a1a;
    }

    /* About Section */
    .about-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        margin-top: 4rem;
        padding: 80px 40px;
    }
    .about-text, .about-mission {
        padding: 30px;
        background-color: white;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }

    /* Features Section */
    .features {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
        margin-top: 4rem;
    }
    .feature-card {
        background-color: white;
        padding: 2rem;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        transition: transform 0.3s ease;
    }
    .feature-card:hover {
        transform: translateY(-10px);
    }

    /* Call to Action Section */
    .cta-section {
        text-align: center;
        margin-top: 4rem;
        padding: 4rem 0;
        background-color: #1a1a1a;
        color: white;
    }

    /* Contact Section */
    #contactSection {
      padding: 100px 20px 50px;
      max-width: 600px;
      margin: 0 auto;
      text-align: center;
    }

    #contactSection h1 {
      font-size: 2.5rem;
    }

    #bookingForm {
      background-color: #fff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    #bookingForm label {
      font-size: 1rem;
      color: #1a1a1a;
      display: block;
      margin-bottom: 5px;
      text-align: left;
    }

    #bookingForm input[type="text"],
    #bookingForm input[type="date"],
    #bookingForm input[type="time"] {
      width: 100%;
      padding: 12px 15px;
      margin-bottom: 15px;
      font-size: 1rem;
      color: #1a1a1a;
      background-color: #f7f7f7;
      border: 1px solid #ddd;
      border-radius: 5px;
      box-sizing: border-box;
      transition: border 0.3s ease;
    }

    #bookingForm input[type="text"]:focus,
    #bookingForm input[type="date"]:focus,
    #bookingForm input[type="time"]:focus {
      border: 1px solid #c9a77c;
      outline: none;
    }

    #bookingForm button[type="submit"] {
      background-color: #1a1a1a;
      color: #fff;
      padding: 12px 25px;
      font-size: 1rem;
      font-weight: 600;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #bookingForm button[type="submit"]:hover {
      background-color: #c9a77c;
    }

    /* Booking Confirmation Message */
    #bookingConfirmation {
      margin-top: 20px;
      font-size: 1rem;
      color: green;
      text-align: center;
    }

    #bookingConfirmation.error {
      color: red;
    }

    /* Footer */
    footer {
        background-color: #1a1a1a;
        color: white;
        padding: 60px 40px;
    }
    .footer-content {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 40px;
    }
    .footer-section h3 {
        font-size: 24px;
        margin-bottom: 20px;
    }
    .footer-section ul {
        list-style: none;
        padding: 0;
    }
    .footer-section ul li a {
        color: white;
        text-decoration: none;
        font-size: 14px;
        line-height: 2;
    }
  </style>
</head>
<body>
<header>
    <div class="logo">
        <h1>SONIA EMPORIUM</h1>
    </div>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="shop.html">Shop</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="account.html">My Account</a></li>
        </ul>
    </nav>
    <div class="cart">
        <a href="cart.html">Cart</a>
    </div>
</header>

<div class="container">
<div class="about-content">
    <div class="about-text">
        <h2>Visit Our Salon</h2>
        <div class="accent-line"></div>
        <p>Monday - Saturday: 8am - 5pm<br>
        Sunday: Closed for Private Events</p>
        <p>For inquiries and appointments:<br>
        Tel: 078 155 9552<br>
        Email: concierge@soniaemporium.com</p>
    </div>
    <div class="about-mission">
        <h2>Our Commitment</h2>
        <div class="accent-line"></div>
        <p>Sonia Emporium is committed to providing an unparalleled luxury shopping experience. We partner exclusively with designers who share our dedication to excellence, ensuring that each piece in our collection meets the highest standards of quality and craftsmanship.</p>
    </div>
</div>
</div>

<div class="container">
    <section id="contactSection">
      <h1>Book a Personalization Appointment</h1>
      <form id="bookingForm">
        <label for="name">Name:</label>
        <input type="text" id="name" required>
  
        <label for="contact">Contact Details (Email):</label>
        <input type="email" id="contact" required>
  
        <label for="appointmentDate">Appointment Date:</label>
        <input type="date" id="appointmentDate" required min="">
  
        <label for="appointmentTime">Appointment Time:</label>
        <input type="time" id="appointmentTime" required min="08:00" max="17:00">
  
        <button type="submit">Book Appointment</button>
      </form>
  
      <div id="bookingConfirmation"></div>
    </section>
  </div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.2/firebase-app.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.1.2/firebase-firestore.js";

const firebaseConfig = {
    apiKey: "AIzaSyCTRQ7Jwg8ro4fGbNpRgY5Xri8KBUju_Cw",
    authDomain: "sonia-emporium-95984.firebaseapp.com",
    projectId: "sonia-emporium-95984",
    storageBucket: "sonia-emporium-95984.firebasestorage.app",
    messagingSenderId: "582010973914",
    appId: "1:582010973914:web:3bbcc21cef1d15a997ffe3",
    measurementId: "G-72TR5RZVBB"
  };

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

bookingForm.addEventListener("submit", async (e) => {
  e.preventDefault();

  const name = document.getElementById("name").value;
  const contact = document.getElementById("contact").value;
  const appointmentDate = document.getElementById("appointmentDate").value;
  const appointmentTime = document.getElementById("appointmentTime").value;

  if (!name || !contact || !appointmentDate || !appointmentTime) {
    bookingConfirmation.textContent = "Please complete all fields.";
    bookingConfirmation.style.color = "red";
    return;
  }

  // Combine date and time for the appointment
  const selectedDateTime = new Date(`${appointmentDate}T${appointmentTime}`);
  const currentDateTime = new Date();

  // Check if the selected appointment is in the past
  if (selectedDateTime <= currentDateTime) {
    bookingConfirmation.textContent = "You cannot book an appointment for a past date or time.";
    bookingConfirmation.style.color = "red";
    return;
  }

  // Additional check for time constraints
  const appointmentHour = parseInt(appointmentTime.split(":")[0], 10);
  if (appointmentHour < 8 || appointmentHour > 17) {
    bookingConfirmation.textContent = "Appointment time must be between 8 AM and 5 PM.";
    bookingConfirmation.style.color = "red";
    return;
  }

  try {
    await addDoc(collection(db, "booking"), {
      name,
      contact,
      appointmentDate,
      appointmentTime,
      createdAt: new Date().toISOString()
    });

    bookingConfirmation.textContent = "Your appointment has been successfully booked!";
    bookingConfirmation.style.color = "green";
    bookingForm.reset();
  } catch (error) {
    console.error("Error booking appointment:", error);
    bookingConfirmation.textContent = "An error occurred. Please try again.";
    bookingConfirmation.style.color = "red";
  }
});
</script>
</body>
</html>
